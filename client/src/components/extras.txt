const submitFormClick = (event) => {
    console.log("clicked submit trip");
    event.preventDefault();
    // Values to create a new trip
    const newTrip = {
        title: document.getElementById("title").value.trim(),
        date: document.getElementById("date").value.trim(),
        location: document.getElementById("location").value.trim(),
        campers: document.getElementById("campers").value.trim(),
        items: document.getElementById("items").value,
        completed: false,
        review: ""
    };
    console.log(newTrip);
    // Post new trip
    // $.ajax("/api/trips", {
    //   type: "POST",
    //   data: newTrip
    // }).then(
    //   function() {
    //     console.log("created new trip");
    //     window.location.replace("/dashboard");
    // });

    tripData();
};

let trips = [];

fetch("/create")
    .then(res => {
        return res.json();
    })
    .then(data => {
        trips = data;
});

const tripData = () => {
    console.log("Trip data called");
    const newTrip = {
        title: document.getElementById("title").value.trim(),
        date: document.getElementById("date").value.trim(),
        location: document.getElementById("location").value.trim(),
        campers: document.getElementById("campers").value.trim(),
        items: document.getElementById("items").value,
        completed: false,
        review: ""
    };
    console.log(newTrip);
    // also send to server
    fetch("/create", {
      method: "POST",
      body: JSON.stringify(newTrip),
      headers: {
        Accept: "application/json, text/plain, */*",
        "Content-Type": "application/json"
      }
    })
    .then(res => {
        console.log("First return reached");
        return res.json();
    })
    .then(data => {
        // clear form
        document.getElementById("title").value = "";
        document.getElementById("date").value = "";
        document.getElementById("location").value = "";
        document.getElementById("campers").value = "";
        document.getElementById("items").value = "";
        console.log("Cleard form");
    })
    .catch(err => {
      console.log(err);
    });
}